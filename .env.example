# ===================================
# SERVER CONFIGURATION
# ===================================
PORT=5000
NODE_ENV=development  # development | staging | production
APP_NAME=WorkOrbit
APP_URL=http://localhost:5000

# ===================================
# DATABASE CONFIGURATION
# ===================================
# PostgreSQL Configuration (Neon Database)
# For Neon serverless Postgres, use these settings:
DB_HOST=ep-crimson-forest-ad00wh6n-pooler.c-2.us-east-1.aws.neon.tech
DB_PORT=5432
DB_NAME=neondb
DB_USER=neondb_owner
DB_PASSWORD=npg_drmnkaxN1LZ6
DB_SSL=true

# For local PostgreSQL, use these settings instead:
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=workorbit
# DB_USER=postgres
# DB_PASSWORD=your_secure_password_here
# DB_SSL=false

# Database Pool Configuration
# Note: Neon has connection limits, adjust these for serverless:
# Free tier: 1 connection, Paid: up to 100 connections
DB_POOL_MAX=5
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# ===================================
# AUTHENTICATION & SECURITY
# ===================================
# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_minimum_32_chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_refresh_token_secret_key_change_this_minimum_32_chars
JWT_REFRESH_EXPIRES_IN=30d

# Bcrypt Configuration
BCRYPT_SALT_ROUNDS=10

# Session Configuration
SESSION_SECRET=your_session_secret_key_here
SESSION_MAX_AGE=86400000  # 24 hours in milliseconds

# ===================================
# EMAIL CONFIGURATION
# ===================================
# SMTP Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_specific_password
EMAIL_FROM_NAME=WorkOrbit Support
EMAIL_FROM_ADDRESS=noreply@workorbit.com

# Email Service Provider (optional)
# EMAIL_SERVICE=sendgrid  # gmail | sendgrid | ses | mailgun
# SENDGRID_API_KEY=your_sendgrid_api_key

# ===================================
# AWS CONFIGURATION
# ===================================
# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-west-2
S3_BUCKET_NAME=your-s3-bucket-name

# AWS S3 Folders
S3_UPLOADS_FOLDER=uploads/
S3_AVATARS_FOLDER=avatars/
S3_DOCUMENTS_FOLDER=documents/
S3_REPORTS_FOLDER=reports/

# ===================================
# REDIS CONFIGURATION (Optional)
# ===================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=workorbit:

# ===================================
# API CONFIGURATION
# ===================================
API_VERSION=v1
API_PREFIX=/api
API_TIMEOUT=30000  # 30 seconds

# ===================================
# CORS CONFIGURATION
# ===================================
CORS_ORIGIN=*  # Use specific origins in production: https://app.workorbit.com,https://admin.workorbit.com
CORS_CREDENTIALS=true

# ===================================
# RATE LIMITING
# ===================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# ===================================
# FILE UPLOAD CONFIGURATION
# ===================================
MAX_FILE_SIZE=5242880  # 5MB in bytes
MAX_FILES_PER_UPLOAD=10
ALLOWED_FILE_EXTENSIONS=.jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.csv
UPLOAD_DIR=uploads
TEMP_UPLOAD_DIR=temp

# ===================================
# LOGGING CONFIGURATION
# ===================================
LOG_LEVEL=debug  # error | warn | info | debug
LOG_DIR=logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=30d
LOG_DATE_PATTERN=YYYY-MM-DD
ENABLE_CONSOLE_LOG=true
ENABLE_FILE_LOG=true

# ===================================
# FIREBASE CONFIGURATION (Optional)
# ===================================
FIREBASE_PROJECT_ID=your_project_id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_private_key_here\n-----END PRIVATE KEY-----"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com

# ===================================
# PAYMENT GATEWAY (Optional)
# ===================================
# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Razorpay Configuration (India)
RAZORPAY_KEY_ID=rzp_test_your_key_id
RAZORPAY_KEY_SECRET=your_razorpay_secret

# ===================================
# SMS CONFIGURATION (Optional)
# ===================================
SMS_PROVIDER=twilio  # twilio | textlocal | msg91
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ===================================
# PUSH NOTIFICATIONS - OneSignal (Optional but Recommended)
# ===================================
# To enable push notifications:
# 1. Sign up at https://onesignal.com (free tier: 10,000 subscribers)
# 2. Create new app named "WorkOrbit"
# 3. Go to Settings â†’ Keys & IDs
# 4. Copy App ID and REST API Key
# 5. Replace placeholders below with your actual credentials
# 6. See ONESIGNAL_SETUP_GUIDE.md for detailed instructions
#
# Example:
# ONESIGNAL_APP_ID=12345678-abcd-1234-abcd-123456789abc
# ONESIGNAL_API_KEY=ZWY1MGNiN2ItYjE4Yi00ZTBjLWE3ZjQtMTIz...
#
# Leave as-is to run backend without push notifications:
ONESIGNAL_APP_ID=your_onesignal_app_id_here
ONESIGNAL_API_KEY=your_onesignal_rest_api_key_here

# Legacy FCM (Optional - Not recommended, use OneSignal instead)
# FCM_SERVER_KEY=your_fcm_server_key
# APNS_KEY_ID=your_apns_key_id
# APNS_TEAM_ID=your_apns_team_id

# ===================================
# AI ASSISTANT - OpenAI (Optional)
# ===================================
# Get your API key from: https://platform.openai.com/api-keys
# See AI_INTEGRATION_GUIDE.md for detailed setup instructions
OPENAI_API_KEY=sk-proj-your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini  # Options: gpt-4o-mini | gpt-4o | gpt-4-turbo
OPENAI_MAX_TOKENS=500  # Max tokens per response
OPENAI_TEMPERATURE=0.7  # 0.0 = focused, 1.0 = creative

# Alternative AI Providers (Optional)
# Google Gemini
# GOOGLE_AI_KEY=your_google_ai_key
# GEMINI_MODEL=gemini-pro

# Anthropic Claude
# ANTHROPIC_API_KEY=your_anthropic_api_key
# CLAUDE_MODEL=claude-3-opus-20240229

# Azure OpenAI
# AZURE_OPENAI_KEY=your_azure_openai_key
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# ===================================
# MONITORING & ANALYTICS (Optional)
# ===================================
# Sentry Error Tracking
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project-id

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# Prometheus Metrics
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090

# ===================================
# CRON JOB CONFIGURATION
# ===================================
ENABLE_CRON_JOBS=true
ATTENDANCE_CHECK_CRON=0 9 * * *  # Daily at 9 AM
REPORT_GENERATION_CRON=0 0 * * 0  # Weekly on Sunday
EMAIL_REMINDER_CRON=0 8 * * 1-5  # Weekdays at 8 AM
BACKUP_CRON=0 2 * * *  # Daily at 2 AM

# ===================================
# SECURITY HEADERS
# ===================================
ENABLE_HELMET=true
CSP_DIRECTIVES="default-src 'self'"
HSTS_MAX_AGE=31536000
X_FRAME_OPTIONS=DENY

# ===================================
# MISCELLANEOUS
# ===================================
# Timezone
TZ=Asia/Kolkata

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Cache TTL (in seconds)
CACHE_TTL_SHORT=300  # 5 minutes
CACHE_TTL_MEDIUM=3600  # 1 hour
CACHE_TTL_LONG=86400  # 24 hours

# Feature Flags
ENABLE_GEOFENCING=true
ENABLE_BIOMETRIC_AUTH=true
ENABLE_AI_FEATURES=false
ENABLE_REAL_TIME_TRACKING=true
ENABLE_NOTIFICATIONS=true
ENABLE_REPORTS=true
ENABLE_PAYROLL=true

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."

# Debug Mode
DEBUG_MODE=false
DEBUG_SQL=false
DEBUG_API_CALLS=false